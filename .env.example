# =============================================
# Nekro VStack 环境配置示例
# =============================================
# 使用说明：
# 1. 开发环境：复制为 .env 即可使用默认配置快速启动
# 2. 生产环境：复制为 .env 并修改标记为 [生产必改] 的配置
# 
# 注意：
# - 后端配置直接写在 .env 中
# - 前端配置需要 VITE_ 前缀
# - .env 文件不会提交到 Git（已在 .gitignore 中）
# =============================================

# =============================================
# 应用基础信息
# =============================================
APP_NAME="Nekro VStack API"
VITE_APP_NAME="Nekro VStack"
APP_DESCRIPTION="垂直切分的 AI 友好全栈开发模板"
VITE_APP_DESCRIPTION="垂直切分的 AI 友好全栈开发模板"
VERSION="0.1.0"
VITE_APP_VERSION="0.1.0"

# =============================================
# 运行环境
# =============================================
ENVIRONMENT="development"  # development | production | test
DEBUG=false

# =============================================
# 服务器端口配置
# =============================================
# 后端服务器
HOST="0.0.0.0"       # 监听地址（0.0.0.0 允许外部访问）
PORT=9871            # 后端端口

# 前端服务器
VITE_HOST="localhost"     # 前端监听地址
VITE_PORT=5173            # 前端端口
VITE_BACKEND_URL="http://127.0.0.1:9871"  # 后端 API 地址（用于 Vite proxy）

# =============================================
# 数据库配置
# =============================================
# 开发环境：使用 SQLite（默认）
DATABASE_URL="sqlite://./data/db.sqlite3"

# 生产环境：推荐使用 PostgreSQL
# DATABASE_URL="postgresql://user:password@localhost:5432/your_db_name"

# MySQL 示例
# DATABASE_URL="mysql://user:password@localhost:3306/your_db_name"

# =============================================
# 安全配置 [生产必改]
# =============================================
# JWT 密钥 - 生产环境必须修改！
# 生成方式：openssl rand -hex 32
SECRET_KEY="dev-secret-key-change-in-production-please"
ALGORITHM="HS256"
ACCESS_TOKEN_EXPIRE_MINUTES=10080  # 7天

# =============================================
# CORS 配置
# =============================================
# 开发环境：允许本地端口（根据实际端口调整）
CORS_ORIGINS=["http://localhost:5173","http://localhost:3000","http://localhost:5174"]

# 生产环境示例：
# CORS_ORIGINS=["https://yourdomain.com","https://www.yourdomain.com"]

# =============================================
# API 配置（前端）
# =============================================
# 开发环境：通过 Vite proxy 代理到后端
VITE_API_BASE_URL="/api"

# 生产环境：指向实际的 API 地址
# VITE_API_BASE_URL="https://api.yourdomain.com"

# =============================================
# 功能开关（前端）
# =============================================
VITE_ENABLE_MOCK=false     # Mock 数据（开发调试用）
VITE_ENABLE_DEBUG=false    # 调试模式（开发环境自动开启）

# =============================================
# 第三方服务（可选）
# =============================================
# VITE_SENTRY_DSN=""           # Sentry 错误追踪
# VITE_GA_TRACKING_ID=""       # Google Analytics
# VITE_ANALYTICS_ID=""         # 其他分析服务

# =============================================
# 端口冲突解决方案
# =============================================
# 如果默认端口被占用，可以修改：
# 
# 1. 修改后端端口：
#    PORT=8000
#    VITE_BACKEND_URL="http://127.0.0.1:8000"
# 
# 2. 修改前端端口：
#    VITE_PORT=3000
#    CORS_ORIGINS=["http://localhost:3000"]
# 
# 3. 同时修改两者（确保 CORS 和 proxy 配置一致）

# =============================================
# 生产环境部署检查清单
# =============================================
# 部署前请确认：
# ✅ SECRET_KEY 已修改为随机值
# ✅ DATABASE_URL 指向生产数据库（PostgreSQL）
# ✅ DEBUG=false
# ✅ HOST 配置正确（通常为 0.0.0.0）
# ✅ PORT 配置为实际端口
# ✅ CORS_ORIGINS 配置为正确的域名
# ✅ VITE_API_BASE_URL 指向生产 API
# ✅ 此文件不会被提交到 Git
